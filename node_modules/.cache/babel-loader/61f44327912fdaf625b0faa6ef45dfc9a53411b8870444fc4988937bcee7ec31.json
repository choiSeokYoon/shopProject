{"ast":null,"code":"import _toConsumableArray from\"C:/Users/82107/Desktop/\\uD504\\uB860\\uD2B8\\uC5D4\\uB4DC/\\uD504\\uB85C\\uC81D\\uD2B8/\\uC1FC\\uD551\\uBAB0/shop/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/82107/Desktop/\\uD504\\uB860\\uD2B8\\uC5D4\\uB4DC/\\uD504\\uB85C\\uC81D\\uD2B8/\\uC1FC\\uD551\\uBAB0/shop/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'./DetailInfo.scss';import Button from'../Button';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function DetailInfo(_ref){var item=_ref.item,cart=_ref.cart,setCart=_ref.setCart;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),count=_useState2[0],setCount=_useState2[1];var plusCount=function plusCount(){setCount(count+1);};var minusCount=function minusCount(){if(count===1)return;setCount(count-1);};var setQuantity=function setQuantity(id,count){var found=cart.filter(function(el){return el.id===id;})[0];var idx=cart.indexOf(found);var cartItem={id:item.id,image:item.image,title:item.title,price:item.price,count:count};setCart([].concat(_toConsumableArray(cart.slice(0,idx)),[cartItem],_toConsumableArray(cart.slice(idx+1))));};var handleCart=function handleCart(){var cartItem={id:item.id,image:item.image,title:item.title,price:item.price,count:count};var found=cart.find(function(el){return el.id===cartItem.id;});if(found)setQuantity(cartItem.id,found.count+count);else{setCart([].concat(_toConsumableArray(cart),[cartItem]));}};console.log(cart);return/*#__PURE__*/_jsxs(\"div\",{className:\"detail_right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"detail_title\",children:/*#__PURE__*/_jsx(\"h2\",{children:item.title})}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail_info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"detail_description\",children:/*#__PURE__*/_jsx(\"p\",{children:item.description})}),/*#__PURE__*/_jsx(\"div\",{className:\"detail_price\",children:/*#__PURE__*/_jsxs(\"p\",{children:[item.price*count,\"$\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail_count\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"count_btn\",onClick:minusCount,children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{children:count}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"count_btn\",onClick:plusCount,children:\"+\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"detail_cart\",children:/*#__PURE__*/_jsx(\"button\",{size:\"medium\",color:\"gray\",onClick:function onClick(){return handleCart();},children:\"CART\"})})]})]});}","map":{"version":3,"names":["React","useState","Button","DetailInfo","item","cart","setCart","count","setCount","plusCount","minusCount","setQuantity","id","found","filter","el","idx","indexOf","cartItem","image","title","price","slice","handleCart","find","console","log","description"],"sources":["C:/Users/82107/Desktop/프론트엔드/프로젝트/쇼핑몰/shop/src/components/detail/DetailInfo.jsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport './DetailInfo.scss'\r\nimport Button from '../Button'\r\n\r\nexport default function DetailInfo({item , cart, setCart}) {\r\n    const [count, setCount] = useState(1)\r\n\r\n    const plusCount = () =>{\r\n        setCount(count+1)\r\n    }\r\n    const minusCount = ()=>{\r\n        if(count===1) return \r\n            setCount(count-1)\r\n    }\r\n    const setQuantity =(id,count) =>{\r\n        const found = cart.filter((el) => el.id ===id)[0];\r\n        const idx = cart.indexOf(found);\r\n        const cartItem ={\r\n            id: item.id,\r\n            image:item.image,\r\n            title:item.title,\r\n            price:item.price,\r\n            count:count\r\n          };\r\n          setCart([...cart.slice(0,idx), cartItem, ...cart.slice(idx+1)])\r\n    }\r\n    const handleCart = () =>{\r\n        const cartItem ={\r\n          id: item.id,\r\n          image:item.image,\r\n          title:item.title,\r\n          price:item.price,\r\n          count:count\r\n        }\r\n        const found = cart.find((el) => el.id ===cartItem.id);\r\n        \r\n        if(found) setQuantity(cartItem.id, found.count + count)\r\n        else {\r\n            setCart([...cart,cartItem])\r\n        }\r\n        \r\n      }\r\n      console.log(cart) \r\n  return (\r\n    <div className='detail_right'>\r\n        <div className='detail_title'>\r\n            <h2>{item.title}</h2>\r\n        </div>\r\n        <div className='detail_info'>\r\n            <div className='detail_description'>\r\n                <p>{item.description}</p>\r\n            </div>\r\n            <div className='detail_price'>\r\n                <p>{item.price*count}$</p>\r\n            </div>\r\n            <div className='detail_count'>\r\n                <button type='button' className='count_btn' onClick={minusCount}>-</button>\r\n                <span>{count}</span>\r\n                <button type='button' className='count_btn' onClick={plusCount}>+</button>\r\n            </div>\r\n            <div className='detail_cart'>\r\n                <button size=\"medium\"  color=\"gray\" onClick={()=>handleCart()}>CART</button>\r\n                \r\n            </div>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}